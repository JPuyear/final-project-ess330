{
  "hash": "a0c71fc785993a64075b839e7a0c2903",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"ESS 330 Final Project\"\nauthor:\n  - name: \"Yazeed Aljohani\"\n    affiliation: \"Colorado State University\"\n    corresponding: true\n  - name: \"Josh Puyear\"\n    affiliation: \"Colorado State University\"\n  - name: \"Cade Vanek\"\n---\n\n\n\n\n\n# Introduction, Background, and Motivation\n\nThe COVID-19 pandemic drastically changed the way people lived, worked, and moved, especially during the early lockdown period in 2020. Globally, one of the most significant consequences of these behavioral shifts was a sharp and sudden drop in greenhouse gas (GHG) emissions, particularly carbon dioxide (CO₂) emissions from fossil fuels. According to Liu et al. (2020), global fossil CO₂ emissions declined by approximately 7.8% in the early months of the pandemic (liu2020). This decrease was driven largely by transportation sectors, as road transport emissions dropped by about 15.5% and aviation emissions declined by nearly 29%. These reductions were felt across continents, including in China, Europe, and the United States (forster2020).\n\nTransportation is the largest source of greenhouse gas emissions in the United States, accounting for nearly 29% of total emissions (epa2022). Within urban environments, where population density and economic activity are centered, the contribution of transportation to local carbon footprints is often even greater. As cities tussle with climate change and look for strategies to lower emissions, understanding how transportation emissions responded to reduced human activity during COVID-19 becomes an important starting point. Did cities with more public transportation infrastructure see greater drops in emissions? Were some cities more resilient to emissions rebounds in 2021–2022? These are the kinds of questions our project aims to explore.\n\nThis project focuses on analyzing transportation-related carbon emissions in five major U.S. counties (Los Angeles County, Cook County, Harris County, San Francisco County, and King County) from 2019 through 2022. These counties were selected based on their large populations, diverse transportation infrastructure, and the availability of emissions and mobility data. By comparing emissions across three key periods: pre-pandemic (2019), pandemic lockdown (2020), and post-lockdown recovery (2021–2022). We aim to better understand how transportation behavior affects regional emissions and how these patterns can inform future urban planning and climate policies.\n\nOur objective is to quantify and compare changes in transportation-related CO₂ emissions in these five counties before, during, and after the COVID-19 lockdowns. We hypothesize that counties with stricter lockdowns and greater reliance on public transit, such as San Francisco County and King County, will show more substantial emissions reductions in 2020 and possibly more gradual rebounds in the following years. In contrast, counties with more car-dependent infrastructure, such as Harris County and Los Angeles County, may show smaller reductions and quicker rebounds. By analyzing how emissions changed in relation to mobility patterns, we hope to uncover how regional urban form, transportation infrastructure, and human behavior interact during times of major disruption.\n\nTo address this research question, we are using two primary datasets. First, we use the EPA’s National Emissions Inventory (NEI), which provides comprehensive emissions estimates, including on-road transportation sources. The NEI is compiled every three years, with the most recent versions available for 2017 and 2020. While annual data is not always available, these datasets still provide valuable estimates for major emissions sectors at the county level, which aligns directly with our selected regions. For our analysis, we are focusing on transportation-related CO₂ emissions specifically in Los Angeles County, Cook County, Harris County, San Francisco County, and King County.\n\nOur methodology involves three main components. First, we will **visualize** emissions and mobility trends over time using R and `ggplot2`. This will help identify patterns, anomalies, or significant changes during the lockdown period and beyond. Second, we will use a one-way ANOVA to statistically test whether mean CO₂ emissions differ significantly between the three periods (2019, 2020, and 2022). This will allow us to test our hypothesis that emissions were significantly lower during the lockdown year.\n\nFinally, we will explore correlations between mobility and emissions to determine whether reductions in transit and workplace movement are associated with emission changes. While we acknowledge the limitations of this approach, such as mismatched temporal resolution and varying data accuracy, it still offers a strong starting point for evaluating behavior-emissions relationships. If time permits, we may consider adding additional contextual variables, such as county population density, public transportation usage rates, or local lockdown policies, to refine our analysis.\n\nThis project is important for several reasons. First, it provides insight into how short-term behavioral changes impact transportation emissions, a sector that is difficult to decarbonize. Second, it allows us to evaluate which counties were most successful in reducing emissions and why, knowledge that can inform future policies aimed at promoting sustainable, low-carbon transportation. Third, it contributes to a growing body of research on the environmental consequences of the COVID-19 pandemic and the lessons we can learn for future resilience planning.\n\nIn conclusion, by combining emissions data from the EPA’s NEI with behavioral data from Google’s mobility reports, this project explores how five major U.S. counties responded environmentally to the pandemic. Our analysis will quantify emission changes, investigate behavioral correlations, and highlight opportunities for sustainable urban development in a post-pandemic world.\n\n# Data Exploration\n\n# \n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code .hidden}\nlibrary(tidyverse)\n```\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\nWarning: package 'purrr' was built under R version 4.4.3\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.4     ✔ readr     2.1.5\n✔ forcats   1.0.0     ✔ stringr   1.5.1\n✔ ggplot2   3.5.1     ✔ tibble    3.2.1\n✔ lubridate 1.9.4     ✔ tidyr     1.3.1\n✔ purrr     1.0.4     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors\n```\n\n\n:::\n\n```{.r .cell-code .hidden}\nlibrary(sf)\n```\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\nWarning: package 'sf' was built under R version 4.4.3\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\nLinking to GEOS 3.13.0, GDAL 3.10.1, PROJ 9.5.1; sf_use_s2() is TRUE\n```\n\n\n:::\n\n```{.r .cell-code .hidden}\nlibrary(tigris)\n```\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\nWarning: package 'tigris' was built under R version 4.4.3\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\nTo enable caching of data, set `options(tigris_use_cache = TRUE)`\nin your R script or .Rprofile.\n```\n\n\n:::\n\n```{.r .cell-code .hidden}\nlibrary(ggplot2)\nlibrary(patchwork)  \n```\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\nWarning: package 'patchwork' was built under R version 4.4.3\n```\n\n\n:::\n\n```{.r .cell-code .hidden}\noptions(tigris_use_cache = TRUE)\n```\n:::\n\n\n\n\n\nThe first dataset is an EPA summary of various pollutants organized geographically. For our purposes, we will be only analyzing the CO2 measurements. The second set is google mobility data taken during the COVID-19 pandemic, measuring how different counties increased or decreased transportation frequency and usage.\n\ncleaning:\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code .hidden}\nco2_data <- read_csv(\"data/co2_emissions.csv\") %>%\n  mutate(\n    FIPS = str_pad(FIPS, 5, pad = \"0\"),\n    Emissions_Tons = `Emissions (Tons)`\n  )\n```\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\nRows: 253757 Columns: 14\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr (11): State, State-County, Pollutant, Pollutant Type, EIS Sector, Source...\ndbl  (2): SCC Code, EPA Region\nnum  (1): Emissions (Tons)\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n```\n\n\n:::\n\n```{.r .cell-code .hidden}\nmobility_data <- read_csv(\"data/mobility_data.csv\") %>%\n  mutate(\n    FIPS = str_pad(census_fips_code, 5, pad = \"0\")\n  ) %>%\n  group_by(FIPS) %>%\n  summarize(\n    avg_residential = mean(residential_percent_change_from_baseline, na.rm = TRUE)\n  )\n```\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\nRows: 747969 Columns: 15\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr (8): country_region_code, country_region, sub_region_1, sub_region_2, is...\ndbl (6): retail_and_recreation_percent_change_from_baseline, grocery_and_pha...\nlgl (1): metro_area\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n```\n\n\n:::\n:::\n\n\n\n\n\n# \n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code .hidden}\njoined_data <- co2_data %>%\n  inner_join(mobility_data, by = \"FIPS\")\n\nus_counties <- counties(cb = TRUE, class = \"sf\") %>%\n  mutate(FIPS = paste0(STATEFP, COUNTYFP))\n```\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\nRetrieving data for the year 2022\n```\n\n\n:::\n\n```{.r .cell-code .hidden}\nmap_data <- us_counties %>%\n  left_join(joined_data, by = \"FIPS\")\n```\n:::\n\n\n\n\n\nPlotting the data:\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code .hidden}\nmap_co2 <- ggplot(map_data) +\n  geom_sf(aes(fill = Emissions_Tons), color = NA) +\n  scale_fill_viridis_c(option = \"plasma\", trans = \"log10\", na.value = \"grey90\") +\n  labs(title = \"CO₂ Emissions (Tons)\", fill = \"Emissions\") +\n  theme_minimal()\n\nmap_mobility <- ggplot(map_data) +\n  geom_sf(aes(fill = avg_residential), color = NA) +\n  scale_fill_viridis_c(option = \"cividis\", na.value = \"grey90\") +\n  labs(title = \"Avg. Residential Mobility Change\", fill = \"% Change\") +\n  theme_minimal()\n\nmap_co2 + map_mobility +\n  plot_layout(ncol = 2) +\n  plot_annotation(title = \"County-Level CO₂ Emissions vs. Mobility Change\")\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-4-1.png){width=672}\n:::\n\n```{.r .cell-code .hidden}\nmap_co2 + map_mobility +\n  plot_layout(ncol = 2) +\n  plot_annotation(title = \"County-Level CO₂ Emissions vs. Mobility Change\")\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-4-2.png){width=672}\n:::\n:::\n\n\n\n\n\nt test:\n\nThis suggests that CO2 levels and mobility are highly interrelated.\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code .hidden}\njoined_data <- joined_data %>%\n  mutate(emissions_group = if_else(Emissions_Tons > median(Emissions_Tons, na.rm = TRUE), \"High\", \"Low\"))\n\n\nt_test_result <- t.test(avg_residential ~ emissions_group, data = joined_data)\n\nt_test_result\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\n\tWelch Two Sample t-test\n\ndata:  avg_residential by emissions_group\nt = 25.878, df = 145263, p-value < 2.2e-16\nalternative hypothesis: true difference in means between group High and group Low is not equal to 0\n95 percent confidence interval:\n 0.1896032 0.2206779\nsample estimates:\nmean in group High  mean in group Low \n          3.794758           3.589617 \n```\n\n\n:::\n:::\n\n\n\n\n\nlin reg:\n\nthis test further supports the idea that CO2 emissions were a significant predictor of mobility during 2020.\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code .hidden}\nmodel <- lm(avg_residential ~ Emissions_Tons, data = joined_data)\n\nsummary(model)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\nCall:\nlm(formula = avg_residential ~ Emissions_Tons, data = joined_data)\n\nResiduals:\n    Min      1Q  Median      3Q     Max \n-8.7275 -0.9202 -0.0446  0.8681  8.0388 \n\nCoefficients:\n                Estimate Std. Error t value Pr(>|t|)    \n(Intercept)    3.697e+00  3.965e-03  932.61   <2e-16 ***\nEmissions_Tons 4.566e-07  2.907e-08   15.71   <2e-16 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 1.539 on 152188 degrees of freedom\n  (74636 observations deleted due to missingness)\nMultiple R-squared:  0.001619,\tAdjusted R-squared:  0.001612 \nF-statistic: 246.7 on 1 and 152188 DF,  p-value: < 2.2e-16\n```\n\n\n:::\n:::\n\n\n\n\n\n# Methods Identified\n",
    "supporting": [
      "index_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}